<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Passion Test Siswa</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root {
  --primary:#2563eb;
}

body{
  margin:0;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:#f5f7fa;
  color:#111;
}

header img, footer img{
  width:100%;
  max-width:100%;
  height:auto;
  display:block;
  margin:auto;
}

.container{
  max-width:720px;
  margin:0 auto 32px;
  background:#fff;
  padding:20px 16px;
  border-radius:16px;
  box-shadow:0 8px 24px rgba(0,0,0,.08);
}

h1{
  text-align:center;
  font-size:1.5rem;
  margin-bottom:6px;
}

p{
  text-align:center;
  font-size:.95rem;
  color:#555;
  margin-bottom:24px;
}

.question{
  margin-bottom:28px;
}

.question h3{
  font-size:1rem;
  margin-bottom:12px;
}

.option{
  display:flex;
  align-items:center;
  gap:12px;
  padding:14px 14px;
  border:1px solid #ddd;
  border-radius:12px;
  margin-bottom:10px;
  cursor:pointer;
  transition:.15s;
}

.option:hover{
  border-color:var(--primary);
  background:#f0f6ff;
}

.option input{
  transform:scale(1.3);
}

input[type=text],
input[type=email],
input[type=tel]{
  width:100%;
  padding:14px;
  font-size:1rem;
  border-radius:10px;
  border:1px solid #ccc;
}

button{
  width:100%;
  padding:16px;
  font-size:1.05rem;
  border:none;
  border-radius:14px;
  background:var(--primary);
  color:#fff;
  font-weight:600;
  cursor:pointer;
}

button:hover{ background:#1e4ed8; }

#result{
  margin-top:32px;
  display:none;
}

canvas{
  max-width:100%;
}

@media(min-width:768px){
  .container{ padding:32px; }
  h1{ font-size:1.8rem; }
}

.input-field{
  width:100%;
  height:52px;
  padding:0 14px;
  font-size:1rem;
  border-radius:12px;
  border:1px solid #ccc;
  box-sizing:border-box;
}

.input-field::placeholder{
  color:#9ca3af;
}
</style>
</head>

<body>

<header>
  <img src="1.png" alt="Header">
</header>

<div class="container">
<h1>Passion Test Siswa</h1>
<p>Pilih jawaban yang paling menggambarkan diri kamu</p>

<form id="passionForm">

<div class="question">
<h3>Data Diri</h3>
<input class="input-field" name="nama" placeholder="Nama Lengkap" required>
<br><br>
<input class="input-field" name="email" type="email" placeholder="Email aktif" required>
<br><br>
<input class="input-field" name="hp" type="tel" placeholder="Nomor WhatsApp" required>
</div>

<div id="questions"></div>

<button type="submit">Lihat Hasil</button>
</form>

<div id="result">
<h2 style="text-align:center">Hasil Passion Kamu</h2>
<canvas id="chart"></canvas>
</div>
</div>

<footer>
  <img src="2.png" alt="Footer">
</footer>

<script>
const questionsData = [ /* ⚠️ SAME QUESTIONS – UNCHANGED */ 
{q:"1. Kalau weekend dan tidak ada tugas, kamu paling sering…",options:[
{text:"Coba tempat makan baru / jajan hits",map:"A"},
{text:"Scroll IG/TikTok cari outfit atau style",map:"B"},
{text:"Main game atau explore teknologi",map:"C"},
{text:"Self-care, skincare, atau olahraga",map:"D"},
{text:"Nonton konten edukasi / bantu teman belajar",map:"E"}]},
{q:"2. Kalau dapat uang tambahan, kamu paling mungkin pakai untuk…",options:[
{text:"Kulineran atau makanan viral",map:"A"},
{text:"Beli baju, sepatu, atau aksesoris",map:"B"},
{text:"Upgrade gadget, game, atau tools digital",map:"C"},
{text:"Skincare, vitamin, atau alat olahraga",map:"D"},
{text:"Buku, course, atau alat belajar",map:"E"}]},
{q:"3. Konten apa yang paling sering muncul di FYP kamu?",options:[
{text:"Food review & street food",map:"A"},
{text:"OOTD & fashion inspo",map:"B"},
{text:"Gaming, AI, atau startup",map:"C"},
{text:"Skincare & healthy lifestyle",map:"D"},
{text:"Edu content & life hacks",map:"E"}]},
{q:"4. Kalau nongkrong bareng teman, kamu biasanya yang…",options:[
{text:"Pilih tempat makan atau menu",map:"A"},
{text:"Ngomentarin outfit atau gaya",map:"B"},
{text:"Ngurus playlist, WiFi, atau gadget",map:"C"},
{text:"Ingatkan soal kesehatan atau capek",map:"D"},
{text:"Jadi tempat curhat / penjelas",map:"E"}]},
{q:"5. Kalau disuruh bikin konten, kamu paling excited bikin…",options:[
{text:"Konten kuliner",map:"A"},
{text:"Konten fashion / styling",map:"B"},
{text:"Konten teknologi / game",map:"C"},
{text:"Konten skincare / wellness",map:"D"},
{text:"Konten edukasi",map:"E"}]},
{q:"6. Menurut teman-temanmu, kamu itu tipe yang…",options:[
{text:"Paling tahu makanan enak",map:"A"},
{text:"Paling stylish",map:"B"},
{text:"Paling jago teknologi",map:"C"},
{text:"Paling peduli kesehatan",map:"D"},
{text:"Paling sabar & komunikatif",map:"E"}]},
{q:"7. Kalau ikut event, kamu paling tertarik ke booth…",options:[
{text:"Makanan & minuman",map:"A"},
{text:"Fashion & brand lokal",map:"B"},
{text:"Teknologi & startup",map:"C"},
{text:"Health, beauty, fitness",map:"D"},
{text:"Edukasi & self-development",map:"E"}]},
{q:"8. Aktivitas mana yang bikin kamu lupa waktu?",options:[
{text:"Masak / nonton food content",map:"A"},
{text:"Mix & match outfit / desain",map:"B"},
{text:"Main game / coding",map:"C"},
{text:"Workout / skincare",map:"D"},
{text:"Ngajar / diskusi",map:"E"}]},
{q:"9. Kalau punya akun besar di IG/TikTok, kamu ingin dikenal karena…",options:[
{text:"Konten kuliner",map:"A"},
{text:"Style & fashion",map:"B"},
{text:"Tech / gaming",map:"C"},
{text:"Healthy lifestyle",map:"D"},
{text:"Edu content",map:"E"}]},
{q:"10. Aktivitas apa yang paling ingin kamu lakukan jika punya banyak waktu?",options:[
{text:"Eksperimen makanan",map:"A"},
{text:"Menciptakan desain",map:"B"},
{text:"Mengembangkan ide digital",map:"C"},
{text:"Menjaga kesehatan & penampilan",map:"D"},
{text:"Berbagi pengetahuan",map:"E"}]}
];

const map={A:'Culinary',B:'Fashion',C:'Techno',D:'Health',E:'Edu'};
const container=document.getElementById('questions');

questionsData.forEach((q,i)=>{
  const div=document.createElement('div');
  div.className='question';
  div.innerHTML=`<h3>${q.q}</h3>`;
  q.options.sort(()=>Math.random()-0.5).forEach(o=>{
    div.innerHTML+=`
    <label class="option">
      <input type="radio" name="q${i}" value="${o.map}" required>
      ${o.text}
    </label>`;
  });
  container.appendChild(div);
});

document.getElementById('passionForm').onsubmit=e=>{
  e.preventDefault();

  const scores={Culinary:0,Fashion:0,Techno:0,Health:0,Edu:0};
  questionsData.forEach((_,i)=>{
    scores[map[document.querySelector(`input[name="q${i}"]:checked`).value]]++;
  });

const formData = new URLSearchParams();
formData.append('nama', document.querySelector('input[name="nama"]').value);
formData.append('email', document.querySelector('input[name="email"]').value);
formData.append('hp', document.querySelector('input[name="hp"]').value);
formData.append('Culinary', scores.Culinary);
formData.append('Fashion', scores.Fashion);
formData.append('Techno', scores.Techno);
formData.append('Health', scores.Health);
formData.append('Edu', scores.Edu);

const params = new URLSearchParams();
params.append('nama', document.querySelector('input[name="nama"]').value);
params.append('email', document.querySelector('input[name="email"]').value);
params.append('hp', document.querySelector('input[name="hp"]').value);
params.append('Culinary', scores.Culinary);
params.append('Fashion', scores.Fashion);
params.append('Techno', scores.Techno);
params.append('Health', scores.Health);
params.append('Edu', scores.Edu);


fetch('https://script.google.com/a/macros/ukwms.ac.id/s/AKfycbwR2rTJTTXxHD9ToDBpZXquaNVJTCXpeKLTKFzOCYu5_ytudysby-d0E6gXhpRNaDA/exec', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded'
  },
  body: params.toString(),
});

  document.getElementById('result').style.display='block';
  new Chart(chart,{type:'bar',data:{
    labels:Object.keys(scores),
    datasets:[{data:Object.values(scores).map(v=>v*10)}]
  },options:{scales:{y:{beginAtZero:true,max:100}}}});
};
</script>

</body>
</html>
