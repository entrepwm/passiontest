<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Passion Test</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body{font-family:Arial;background:#f5f7fa;margin:0}
.container{max-width:800px;margin:10px auto;background:#fff;padding:30px;border-radius:12px}
.question{margin-bottom:25px}
label{display:block;margin:6px 0}
button{padding:12px 20px;background:#2563eb;color:#fff;border:none;border-radius:8px}
</style>
</head>

<body>

<header><img src="1.png" style="max-width:90%;display:block;margin:auto"></header>

<div class="container">
<h2>Passion Test Siswa</h2>

<form id="form">

<input name="nama" placeholder="Nama" required><br><br>
<input name="email" placeholder="Email" required><br><br>
<input name="hp" placeholder="HP" required><br><br>

<div id="questions"></div>

<button type="submit">Lihat Hasil</button>
</form>

<canvas id="chart" style="margin-top:40px"></canvas>
</div>

<footer><img src="2.png" style="max-width:80%;display:block;margin:auto"></footer>

<script>
const questions = [
 {q:"1. Weekend kamu paling suka?", A:"Kuliner",B:"Fashion",C:"Game",D:"Olahraga",E:"Belajar"},
 {q:"2. Uang tambahan buat?", A:"Makan",B:"Baju",C:"Gadget",D:"Skincare",E:"Buku"},
 {q:"3. FYP kamu?", A:"Food",B:"OOTD",C:"Tech",D:"Health",E:"Edu"},
 {q:"4. Di tongkrongan kamu?", A:"Cari makan",B:"Style",C:"Gadget",D:"Sehat",E:"Ngajar"},
 {q:"5. Konten favorit?", A:"Kuliner",B:"Fashion",C:"Tech",D:"Wellness",E:"Edukasi"},
 {q:"6. Kata teman?", A:"Foodie",B:"Stylish",C:"Techy",D:"Healthy",E:"Tutor"},
 {q:"7. Booth favorit?", A:"F&B",B:"Fashion",C:"Startup",D:"Health",E:"Edu"},
 {q:"8. Lupa waktu saat?", A:"Masak",B:"Desain",C:"Game",D:"Workout",E:"Diskusi"},
 {q:"9. Mau dikenal sebagai?", A:"Food",B:"Style",C:"Tech",D:"Health",E:"Edu"},
 {q:"10. Paling ingin lakukan?", A:"Masak",B:"Design",C:"App",D:"Self care",E:"Ngajar"}
];

const map={A:"Culinary",B:"Fashion",C:"Techno",D:"Health",E:"Edu"};
const qBox=document.getElementById("questions");

questions.forEach((q,i)=>{
  let h=`<div class="question"><b>${q.q}</b>`;
  ["A","B","C","D","E"].sort(()=>Math.random()-0.5).forEach(k=>{
    h+=`<label><input type="radio" name="q${i}" value="${k}" required> ${q[k]}</label>`;
  });
  h+="</div>";
  qBox.innerHTML+=h;
});

document.getElementById("form").onsubmit=e=>{
  e.preventDefault();

  let score={Culinary:0,Fashion:0,Techno:0,Health:0,Edu:0};
  questions.forEach((_,i)=>{
    const v=document.querySelector(`input[name=q${i}]:checked`).value;
    score[map[v]]++;
  });

  fetch("https://script.google.com/macros/s/AKfycbyWhaNFLabF6i6skm4RX1DUCsYyp6B3I0ieBKeg37_Yf2Hj1Mzg-st56Xnqqk-wwubbzw/exec",{
    method:"POST",
    headers:{'Content-Type':'text/plain'},
    body:JSON.stringify({
      nama:form.nama.value,
      email:form.email.value,
      hp:form.hp.value,
      ...score
    })
  });

  new Chart(chart,{type:"bar",data:{labels:Object.keys(score),datasets:[{data:Object.values(score).map(v=>v*10)}]}});
};
</script>

</body>
</html>

